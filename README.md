# Bias in Data: Analysis of Wikipedia Articles on Politicians

## Project Overview

The goal of this project is to explore and analyze potential biases in Wikipedia's coverage of politicians from different countries. Specifically, we examine the number and quality of Wikipedia articles about politicians in comparison to country populations. By integrating population data with Wikipedia article data and using the ORES machine learning model to assess article quality, we investigate whether certain countries or regions are over- or under-represented, and whether they have more high-quality articles relative to their population size.

## Data and Licenses

### Source Data

This project utilizes the following datasets:

- **Wikipedia Politician Articles:** A dataset containing Wikipedia articles about politicians, obtained from a category crawl of Wikipedia's "Politicians by nationality" pages.
- **Population Data:** The population data was sourced from the Population Reference Bureau's August 2024 data sheet, providing population counts by country and region.

### License and Terms of Use

The source data is publicly available under the Wikimedia Foundation’s Terms of Use. This dataset is subject to these terms, including those governing the reuse and redistribution of Wikimedia content. The ORES (Objective Revision Evaluation Service) API used to assess article quality is provided by Wikimedia under a Creative Commons license, and detailed documentation can be found here. Please review these terms before using or redistributing this dataset. In this analysis, we adhere to the terms of the Wikimedia Foundation, particularly ensuring proper attribution for the data and following ethical guidelines in using the ORES API for article quality predictions.

### API Documentation

- **MediaWiki REST API for the EN Wikipedia:** Used to get revision ids to lead to ORES request. Full documentation : (https://www.mediawiki.org/wiki/API:Main_page)
- **ORES API:** Used to retrieve quality predictions for Wikipedia articles. Full documentation can be found here: (https://ores.wikimedia.org)

## Data Files

### Input Data

- `politicians_by_country_AUG.2024.csv`: Contains politician Wikipedia article titles by country
- `population_by_country_AUG.2024.csv`: Population data by country, with region and continent information.

### Intermediary Data Files

- `politicians_with_lastrevid.csv`: A dataset containing revision Ids pulled from MediaWiki API
- `politicians_with_partial_prediction.csv`: A dataset containing Wikipedia articles on politicians with partial predictions from the ORES API.
- `population_by_country_with_regions.csv`: Population data with added region and continent information.
- `wp_countries-no_match.txt`: A log file of unmatched countries between the Wikipedia and population datasets, useful for identifying inconsistencies.
- `missing_lastrevid.log`: A log file of titles with missing revision IDs
- `ores_request_errors.log`: A log file of ORES request errors

### Final Output Files

- `wp_politicians_by_country.csv`: The final dataset containing matched country information, article titles, revision IDs, article quality predictions, population data, and regional information.

## Final Dataset Schema

- **country:** Country name (from the Wikipedia dataset).
- **region:** Geographic region the country belongs to (from the population dataset).
- **population:** Population of the country (in millions).
- **article_title:** The title of the politician's Wikipedia article.
- **revision_id:** The most recent revision ID of the article.
- **article_quality:** The ORES prediction of article quality (e.g., FA, GA, B, C, Start, Stub).
- **articles_per_mil_capita:** Number of Wikipedia articles per million people.
- **high_quality_articles_per_mil_capita:** Number of high-quality Wikipedia articles (FA, GA) per million people.

## Known Issues and Special Considerations

- **Wikipedia Category Crawling:** The dataset of politicians by nationality was generated by crawling Wikipedia's category structure. However, Wikipedia categories are folksonomic, which can result in some articles being miscategorized or duplicated. Additionally, there may be pages in the dataset that are not actually about politicians.
- **Population Data:** The population data includes regional summaries in uppercase (e.g., AFRICA, OCEANIA), which we filter and handle separately from country-specific data. It’s important to note that population data is given in millions, so calculations based on population (such as articles per capita) need to account for this.
- **Mismatched Country Names:** There are known issues with mismatches in country names between the Wikipedia and population datasets, especially related to punctuation or alternative naming conventions (e.g., "Guinea-Bissau" vs. "GuineaBissau"). These discrepancies were manually corrected, and any remaining unmatched countries are logged in `wp_countries-no_match.txt`.
- **ORES API Limitations:** Some articles may not have ORES predictions due to API timeouts or unavailability of quality scores for specific articles. These cases are logged, and retry mechanisms have been implemented to minimize the impact of these issues.

## Research Implications


## License

This project is licensed under the MIT License. See the LICENSE file for more details.

## Installation and Usage Instructions

1. Clone this repository and navigate to the project folder.
2. Install the required dependencies:
    ```sh
    pip install -r requirements.txt
    ```
3. Obtain an ORES API key from Wikimedia and add it to your environment variables.
4. Run the provided Jupyter notebook (`bias-in-data.ipynb`) to perform the analysis.
